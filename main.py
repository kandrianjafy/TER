from function import threshold, fitellipse, roc_curve, optimal_threshold
import numpy as np


def main():

    threshold(faciee_dir, 241)
    fitellipse(faciee_dir)

    threshold(pas_faciee_dir, 241)
    fitellipse(pas_faciee_dir)


    # computing ROC curve
    auc, score = roc_curve(y_test, y_actu)
    print('AUC: ', auc)

    # computing optimal threshold
    thresh = optimal_threshold(faciee_dir, pas_faciee_dir)
    print('Optimal threshold: ', thresh)
    

if __name__ == '__main__':

    faciee_dir = 'data/PLANTES FASCIEE/'
    pas_faciee_dir = 'data/PLANTES PAS FASCIEE/'

    # values from our train dataset
    y_test = [0.6135028251579084, 0.73720139198127, 0.5425082586190154, 0.494112259089892, 0.7411963377821076, 0.6769417092379305, 0.7805325760262585, 0.7466838739245945, 0.6861162097498582, 0.9186227014430356, 0.49781080696669755, 0.7399212912717471, 0.7960418095474142, 0.7556760754132301, 0.2677802025259342, 0.6828222547782634, 0.7890466303917962, 0.6369779285625201, 0.8955367219452878, 0.8458821808297753, 0.7401124302712173, 0.8386911951645396, 0.8667779225492409, 0.6463886465222588, 0.6274398939721239, 0.35752202888116663, 0.5561451181642406, 0.39265052816031265, 0.48951741124642967, 0.7328628222148613, 0.42581929714958056, 0.32492052535268395, 0.2236838972553976, 0.6361246451673472, 0.6371040389028909, 0.6120130198651589, 0.6888774762630412, 0.3054101882661055, 0.7017476239588422, 0.43435984389983057, 0.36264120738686106, 0.32715466019645834, 0.5842332900982274, 0.5561753955981645, 0.687436126327082, 0.24814058360446045, 0.30465124362960255, 0.2537042694235082, 0.3779678835880865]
    y_actu = np.array([1] * 24 + [0] * 25)

    main()
